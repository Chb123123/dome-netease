{"version":3,"file":"js/515-legacy.36e75d71.js","mappings":"oKAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACG,IAAI,aAAaC,MAAM,CAAC,IAAMR,EAAIS,SAAS,KAAO,OAAO,SAAW,WAAW,SAAWT,EAAIU,eAAeC,GAAG,CAAC,MAAQX,EAAIY,cAAcR,EAAG,MAAM,CAACG,IAAI,kBAAkBD,YAAY,cAAcK,GAAG,CAAC,MAAQX,EAAIa,gBAAgB,CAACT,EAAG,MAAM,CAACI,MAAM,CAAC,IAAMR,EAAIc,eAAe,IAAM,QAAQV,EAAG,MAAM,CAACE,YAAY,cAAc,CAACN,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIiB,iBAAiB,KAAKb,EAAG,OAAO,CAACJ,EAAIe,GAAG,KAAKf,EAAIgB,GAAGhB,EAAIkB,uBAAuBd,EAAG,MAAM,CAACE,YAAY,UAAUK,GAAG,CAAC,MAAQX,EAAImB,YAAY,CAAEnB,EAAiB,cAAEI,EAAG,OAAO,CAACA,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,qBAAqB,GAAGJ,EAAG,OAAO,CAACA,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,oBAAoB,KAAKJ,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,aAAa,QACh4BY,EAAkB,G,gDCgBtB,GACAC,KAAAA,YACAC,MAAAA,CAEAb,SAAAA,GAEAc,WAAAA,GAEAT,eAAAA,GACAG,gBAAAA,GACAC,iBAAAA,IAEAM,KAZA,WAaA,OACAd,eAAAA,EAEAe,gBAAAA,GAEAC,UAAAA,GAEAC,YAAAA,CACAC,KAAAA,UAIAC,QAAAA,CACAhB,cADA,WAEA,oDACA,mBACAQ,KAAAA,aACAS,OAAAA,CACArB,SAAAA,KAAAA,SACAsB,GAAAA,KAAAA,cAIAC,QAAAA,IAAAA,YAGAb,UAdA,WAeA,oBACA,sBACA,gCAEA,sBACA,+BAGAP,WAvBA,WAwBA,wBAGAqB,MAAAA,CACAV,WADA,SACAW,GAAA,uKACAC,EAAAA,EAAAA,GAAAA,GADA,OACAC,EADA,OAGA,oCACA,4CACAJ,QAAAA,IAAAA,EAAAA,WAEA,6BACA,mBACA,2BAEA,mBAEA,yCAbA,8CAeAvB,SAhBA,WAiBA,iCACA,sBAEA,yBCzFuR,I,UCQnR4B,GAAY,OACd,EACAtC,EACAqB,GACA,EACA,KACA,WACA,MAIF,EAAeiB,EAAiB,S,0FChBnBF,EAAkB,SAAUJ,GACvC,OAAOO,EAAAA,EAAAA,GAAM,CACXC,OAAQ,MACRC,IAAK,eAELV,OAAQ,CAAEW,IAAKV,MAKNW,EAAgB,SAAUX,GACrC,OAAOO,EAAAA,EAAAA,GAAM,CACXC,OAAQ,MACRC,IAAK,SAELV,OAAQ,CAAEC,GAAIA","sources":["webpack://demo-netease/./src/components/home/plugin/playMusic.vue?da85","webpack://demo-netease/src/components/home/plugin/playMusic.vue","webpack://demo-netease/./src/components/home/plugin/playMusic.vue?7ed2","webpack://demo-netease/./src/components/home/plugin/playMusic.vue","webpack://demo-netease/./src/api/getMusicDetails.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"playMusicContainer\"},[_c('div',{staticClass:\"musicPlayStyle\"},[_c('audio',{ref:\"audioAbout\",attrs:{\"src\":_vm.musicURL,\"loop\":\"loop\",\"contrals\":\"contrals\",\"autoplay\":_vm.autoPlayMusic},on:{\"pause\":_vm.taggerPlay}}),_c('div',{ref:\"musicbackground\",staticClass:\"musicbackbg\",on:{\"click\":_vm.setMusicLyric}},[_c('img',{attrs:{\"src\":_vm.firstMusicBack,\"alt\":\"\"}})]),_c('div',{staticClass:\"musicTitle\"},[_vm._v(_vm._s(_vm.firstMusicTitle)+\" \"),_c('span',[_vm._v(\"- \"+_vm._s(_vm.firstMusicAuthor))])]),_c('div',{staticClass:\"playBtn\",on:{\"click\":_vm.playMusic}},[(_vm.autoPlayMusic)?_c('span',[_c('van-icon',{attrs:{\"name\":\"pause-circle-o\"}})],1):_c('span',[_c('van-icon',{attrs:{\"name\":\"play-circle-o\"}})],1)]),_c('div',{staticClass:\"moreBtn\"},[_c('van-icon',{attrs:{\"name\":\"apps-o\"}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"playMusicContainer\">\r\n    <div class=\"musicPlayStyle\">\r\n      <audio :src=\"musicURL\" loop=\"loop\" contrals=\"contrals\" :autoplay=\"autoPlayMusic\" ref=\"audioAbout\" @pause=\"taggerPlay\"></audio>\r\n      <div class=\"musicbackbg\" ref=\"musicbackground\" @click=\"setMusicLyric\"><img :src=\"firstMusicBack\" alt=\"\"></div>\r\n      <div class=\"musicTitle\">{{ firstMusicTitle }} <span>- {{firstMusicAuthor}}</span></div>\r\n      <div class=\"playBtn\" @click=\"playMusic\">\r\n        <span v-if=\"autoPlayMusic\"><van-icon name=\"pause-circle-o\" /></span>\r\n        <span v-else><van-icon name=\"play-circle-o\" /></span>\r\n      </div>\r\n      <div class=\"moreBtn\"><van-icon name=\"apps-o\" /></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getMusicDetails } from '@/api/getMusicDetails.js'\r\nexport default {\r\n  name: 'playMusic',\r\n  props: {\r\n    // 歌曲的URL地址\r\n    musicURL: {},\r\n    // 点击歌曲获取歌曲id\r\n    getMusicid: {},\r\n    // 获取第一首歌曲的图片\r\n    firstMusicBack: {},\r\n    firstMusicTitle: {},\r\n    firstMusicAuthor: {}\r\n  },\r\n  data () {\r\n    return {\r\n      autoPlayMusic: false,\r\n      // 获取请求回来的数据对象图片\r\n      musicDetailsImg: {},\r\n      // 获取歌曲名称\r\n      musicName: {},\r\n      // 歌曲作者\r\n      musicAuthor: {\r\n        type: String\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    setMusicLyric () {\r\n      if (typeof this.musicURL === 'string' && this.musicURL !== '') {\r\n        this.$router.push({\r\n          name: 'musicLyric',\r\n          params: {\r\n            musicURL: this.musicURL,\r\n            id: this.getMusicid\r\n          }\r\n        })\r\n      } else {\r\n        console.log('音乐地址不可用')\r\n      }\r\n    },\r\n    playMusic () {\r\n      if (this.autoPlayMusic) {\r\n        this.autoPlayMusic = false\r\n        this.$refs.audioAbout.pause()\r\n      } else {\r\n        this.autoPlayMusic = true\r\n        this.$refs.audioAbout.play()\r\n      }\r\n    },\r\n    taggerPlay () {\r\n      this.autoPlayMusic = false\r\n    }\r\n  },\r\n  watch: {\r\n    async getMusicid (newval) {\r\n      const res = await getMusicDetails(newval)\r\n      // console.log(res)\r\n      this.musicName = res.data.songs[0].al.name\r\n      this.musicDetailsImg = res.data.songs[0].al.picUrl\r\n      console.log(this.musicURL)\r\n      // eslint-disable-next-line valid-typeof\r\n      if (typeof (this.musicURL) === String) {\r\n        this.autoPlayMusic = true\r\n        this.$refs.audioAbout.play()\r\n      } else {\r\n        this.autoPlayMusic = false\r\n      }\r\n      this.musicAuthor = res.data.songs[0].ar[0].name\r\n    },\r\n    musicURL () {\r\n      if (parseInt(this.musicURL) === String) {\r\n        this.autoPlayMusic = true\r\n      } else {\r\n        this.autoPlayMusic = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .playMusicContainer{\r\n    position: fixed;\r\n    bottom: 0;\r\n    // display: flex;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    width: 100%;\r\n    height: 2.8rem;\r\n    z-index: 1000;\r\n    background-color: white;\r\n    border-top: .0267rem solid #ccc;\r\n    .musicPlayStyle{\r\n      position: relative;\r\n      padding: 0 .2667rem;\r\n      display: flex;\r\n      .musicbackbg{\r\n        position: relative;\r\n      width: 2.3467rem;\r\n      height: 2.3467rem;\r\n      background-color: #000;\r\n      border-radius: 50%;\r\n      overflow: hidden;\r\n      // margin-left: 10px;\r\n      img{\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        width: 1.6rem;\r\n        height: 1.6rem;\r\n        border-radius: 50%;\r\n      }\r\n    }\r\n    .musicTitle{\r\n        flex: 1;\r\n        display: flex;\r\n        align-items: center;\r\n        padding-left: .2667rem;\r\n        color: #444;\r\n        font-size: .64rem;\r\n        > span {\r\n          margin-left: .1333rem;\r\n          color: #999;\r\n          font-size: .5867rem;\r\n        }\r\n        // background-color: red;\r\n      }\r\n      .playBtn{\r\n        height: 2.8rem;\r\n        width: 1.4667rem;\r\n        // background-color: aqua;\r\n        line-height: 2.8rem;\r\n        text-align: center;\r\n        font-size: 1.4667rem;\r\n        margin-right: 1.3333rem;\r\n        color: #555;\r\n      }\r\n      .moreBtn{\r\n        height: 2.8rem;\r\n        width: 1.4667rem;\r\n        // background-color: aqua;\r\n        line-height: 2.8rem;\r\n        text-align: center;\r\n        font-size: 1.4667rem;\r\n        margin-right: .8rem;\r\n        color: #555;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./playMusic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./playMusic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./playMusic.vue?vue&type=template&id=77326118&scoped=true&\"\nimport script from \"./playMusic.vue?vue&type=script&lang=js&\"\nexport * from \"./playMusic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./playMusic.vue?vue&type=style&index=0&id=77326118&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77326118\",\n  null\n  \n)\n\nexport default component.exports","import axios from '@/utils/request.js'\r\n\r\n// 获取歌曲详情\r\nexport const getMusicDetails = function (id) {\r\n  return axios({\r\n    method: 'get',\r\n    url: '/song/detail',\r\n    // id 为歌曲的 ID\r\n    params: { ids: id }\r\n  })\r\n}\r\n\r\n// 获取歌曲详情\r\nexport const getMusicLyric = function (id) {\r\n  return axios({\r\n    method: 'get',\r\n    url: '/lyric',\r\n    // id 为歌曲的 ID\r\n    params: { id: id }\r\n  })\r\n}\r\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","musicURL","autoPlayMusic","on","taggerPlay","setMusicLyric","firstMusicBack","_v","_s","firstMusicTitle","firstMusicAuthor","playMusic","staticRenderFns","name","props","getMusicid","data","musicDetailsImg","musicName","musicAuthor","type","methods","params","id","console","watch","newval","getMusicDetails","res","component","axios","method","url","ids","getMusicLyric"],"sourceRoot":""}